"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./Api/index.js");const e="get_status",s="get_contact",n="get_prot",i="put_contact",a="set_contact";exports.default=class Maxbot{constructor(t){return this.config={token:"",timeout:3e3,baseURL:"https://mbr.maxbot.com.br/api/v1.php"},this.ready=!1,this.setMe(t),this}async isReady(t){if(!this.config.token)return!1;return!t&&this.ready||(this.ready=await(async()=>{const t=await this.getStatus();return!!parseInt(t.status,10)})()),!!this.ready}setMe(t,e){const{config:s}=this;if("object"==typeof t){const e=Object.keys(t);for(let n=0;n<e.length;n++)e[n]in s&&(s[e[n]]=t[e[n]])}else"string"==typeof t&&t in s&&(s[t]="function"==typeof e?e():e);return this}getMe(){return this.config}async getStatus(){return await this.requestApi(e)}async getContact(t){return await this.requestApi(s,t)}async getProt(t){return await this.requestApi(n,t)}async putContact(t){return await this.requestApi(i,t)}async setContact(t){return await this.requestApi(a,t)}async sendText(t,e){}async sendImage(t,e){}async sendFile(t,e){}async sendSound(t,e){}async requestApi(e,s={}){const n=this,i=await t.default.post(null,{cmd:e,token:n.config.token,...s},{timeout:n.config.timeout,baseURL:n.config.baseURL});return console.log("requestApi",e,i),i}};
